apiVersion: kagent.dev/v1alpha1
kind: Agent
metadata:
  name: k8s-multi-agent
  namespace: kagent
spec:
  description: An agent that knows how to use Kubernetes tools and calls other agents.
  modelConfig: kagent/azure-openai-gpt-o4-mini
  systemMessage: |-
      You are an expert Kubernetes agent that uses tools and flux-mcp-agent to help users.
  tools:
    - builtin:
        name: kagent.tools.k8s.GetResources
      type: Builtin
    # - agent:
    #     ref: flux-mcp-agent
    #   type: Agent
  a2aConfig:
    skills:
    - id: get-resources-skill
      name: Get Resources
      description: Get resources in the Kubernetes cluster
      inputModes:
      - text
      outputModes:
      - text
      examples:
      - "Get all resources in the Kubernetes cluster"
      - "Get the pods in the default namespace"
      - "Get the services in the istio-system namespace"
      - "Get the deployments in the istio-system namespace"
      - "Get the jobs in the istio-system namespace"
      - "Get the cronjobs in the istio-system namespace"
      - "Get the statefulsets in the istio-system namespace"
      tags:
      - k8s
      - get